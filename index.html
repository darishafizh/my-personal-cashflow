<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="CashFlow Tracker - Aplikasi tracking cuan dan pengeluaran dengan tampilan futuristik untuk Gen Z Indonesia" />
  <title>CashFlow Tracker ğŸ’¸</title>
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="./public/favicon-32.png" type="image/png">
  <link rel="icon" href="./public/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="./public/favicon.png">
  <meta name="theme-color" content="#0a0a1a">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  
  <link rel="stylesheet" href="./src/style.css">
</head>
<body>
  <div class="app-container">
    <!-- Animated Background -->
    <div class="bg-particles"></div>
    
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="logo-icon">ğŸ’°</span>
        <h1 class="logo-text">CashFlow</h1>
      </div>
      <p class="tagline">Kelola cuan lo biar makin cuan! âœ¨</p>
    </header>

    <!-- Summary Cards -->
    <section class="summary-section">
      <div class="summary-card income-card">
        <div class="card-icon">ğŸ“ˆ</div>
        <div class="card-content">
          <span class="card-label">Cuan Masuk</span>
          <span class="card-value" id="totalIncome">Rp 0</span>
        </div>
      </div>
      
      <div class="summary-card expense-card">
        <div class="card-icon">ğŸ“‰</div>
        <div class="card-content">
          <span class="card-label">Duit Keluar</span>
          <span class="card-value" id="totalExpense">Rp 0</span>
        </div>
      </div>
      
      <div class="summary-card balance-card">
        <div class="card-icon">ğŸ¯</div>
        <div class="card-content">
          <span class="card-label">Sisa Dompet</span>
          <span class="card-value" id="balance">Rp 0</span>
        </div>
      </div>
    </section>

    <!-- Wallet Balance Cards -->
    <!-- Wallet Balance Cards -->
    <section class="wallet-section">
      <div class="section-header-row">
        <h2 class="section-title">ğŸ’³ Saldo Dompet Digital</h2>
        <button class="btn btn-add-wallet" id="btnAddWallet">
          <span>â• Tambah Dompet</span>
        </button>
      </div>
      <div class="wallet-cards" id="walletList">
        <!-- Dynamic wallets will be rendered here -->
      </div>
    </section>

    <!-- Budget Planning Section -->
    <section class="budget-section">
      <div class="budget-header">
        <h2 class="section-title">ğŸ“Š Perencanaan Pengeluaran</h2>
        <button class="btn btn-add-budget" id="btnAddBudget">
          <span>â• Tambah Item</span>
        </button>
      </div>
      <div class="budget-list" id="budgetList">
        <!-- Budget items will be rendered here -->
      </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Input Forms Section -->
      <section class="forms-section">
        <!-- Income Form -->
        <div class="form-card">
          <h2 class="form-title">
            <span class="title-icon">ğŸ’µ</span>
            Tambah Cuan
          </h2>
          <form id="incomeForm" class="transaction-form">
            <div class="form-group">
              <label for="incomeAmount">Jumlah Cuan</label>
              <div class="input-wrapper">
                <span class="input-prefix">Rp</span>
                <input type="number" id="incomeAmount" placeholder="500000" required min="1">
              </div>
            </div>
            <div class="form-group">
              <label for="incomeDesc">Sumber Cuan</label>
              <input type="text" id="incomeDesc" placeholder="Gajian, Freelance, dll" required>
            </div>
            <div class="form-group">
              <label for="incomeWallet">Simpan ke</label>
              <select id="incomeWallet" required>
                <option value="">Pilih dompet...</option>
                <!-- Dynamic wallet options -->
              </select>
            </div>
            <div class="form-group">
              <label for="incomeDate">Tanggal</label>
              <input type="date" id="incomeDate" required>
            </div>
            <button type="submit" class="btn btn-income">
              <span>Gas Tambah! ğŸš€</span>
            </button>
          </form>
        </div>

        <!-- Transfer Form -->
        <div class="form-card">
          <h2 class="form-title">
            <span class="title-icon">ğŸ”„</span>
            Transfer Dana
          </h2>
          <form id="transferForm" class="transaction-form">
            <div class="form-group">
              <label for="transferAmount">Jumlah Transfer</label>
              <div class="input-wrapper">
                <span class="input-prefix">Rp</span>
                <input type="number" id="transferAmount" placeholder="100000" required min="1">
              </div>
            </div>
            <div class="form-group">
              <label for="transferAdmin">Biaya Admin</label>
              <div class="input-wrapper">
                <span class="input-prefix">Rp</span>
                <input type="number" id="transferAdmin" placeholder="2500" required min="0" value="0">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="transferFrom">Dari</label>
                <select id="transferFrom" required>
                  <option value="">Pilih...</option>
                  <!-- Dynamic wallet options -->
                </select>
              </div>
              <div class="form-group">
                <label for="transferTo">Ke</label>
                <select id="transferTo" required>
                  <option value="">Pilih...</option>
                  <!-- Dynamic wallet options -->
                </select>
              </div>
            </div>
            <div class="form-group">
              <label for="transferDate">Tanggal</label>
              <input type="date" id="transferDate" required>
            </div>
            <button type="submit" class="btn btn-transfer">
              <span>Pindahin Cuan! âš¡</span>
            </button>
          </form>
        </div>

        <!-- Expense Form -->
        <div class="form-card">
          <h2 class="form-title">
            <span class="title-icon">ğŸ’¸</span>
            Catat Pengeluaran
          </h2>
          <form id="expenseForm" class="transaction-form">
            <div class="form-group">
              <label for="expenseAmount">Jumlah Keluar</label>
              <div class="input-wrapper">
                <span class="input-prefix">Rp</span>
                <input type="number" id="expenseAmount" placeholder="100000" required min="1">
              </div>
            </div>
            <div class="form-group">
              <label for="expenseDesc">Keterangan</label>
              <input type="text" id="expenseDesc" placeholder="Bayar kost, Makan, dll" required>
            </div>
            <div class="form-group">
              <label for="expenseWallet">Bayar dari</label>
              <select id="expenseWallet" required>
                <option value="">Pilih dompet...</option>
                <!-- Dynamic wallet options -->
              </select>
            </div>
            <div class="form-group">
              <label for="expenseDate">Tanggal</label>
              <input type="date" id="expenseDate" required>
            </div>
            <button type="submit" class="btn btn-expense">
              <span>Catat Dulu! ğŸ“</span>
            </button>
          </form>
        </div>
      </section>

      <!-- Charts Section -->
      <section class="charts-section">
        <div class="chart-card">
          <h2 class="chart-title">ğŸ“Š Breakdown Pengeluaran</h2>
          <div class="chart-container">
            <canvas id="expenseChart"></canvas>
          </div>
          <p class="chart-empty" id="expenseChartEmpty">Belum ada data pengeluaran, yuk mulai catat! ğŸ“</p>
        </div>
        
        <div class="chart-card">
          <h2 class="chart-title">ğŸ“ˆ Trend Bulanan</h2>
          <div class="chart-container">
            <canvas id="trendChart"></canvas>
          </div>
          <p class="chart-empty" id="trendChartEmpty">Belum ada data transaksi, yuk mulai! ğŸ’ª</p>
        </div>
      </section>

      <!-- Transactions Section -->
      <section class="transactions-section">
        <div class="transactions-header">
          <h2 class="section-title">ğŸ“‹ Riwayat Transaksi</h2>
          <div class="filter-tabs">
            <button class="filter-btn active" data-filter="all">Semua</button>
            <button class="filter-btn" data-filter="income">Cuan Masuk</button>
            <button class="filter-btn" data-filter="expense">Duit Keluar</button>
          </div>
        </div>
        
        <div class="transactions-list" id="transactionsList">
          <div class="empty-state">
            <span class="empty-icon">ğŸ¤·</span>
            <p>Belum ada transaksi nih!</p>
            <p class="empty-subtitle">Yuk mulai catat cuan lo! ğŸ’ª</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p style="font-weight: 600; margin-bottom: 4px;">No Cap, Just Cuan ğŸ§¢ğŸ’°</p>
      <p class="footer-sub">ManCave 28 by D.H &copy; 2026 - Daris Cuppa Office â˜•</p>
    </footer>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <span class="toast-icon"></span>
    <span class="toast-message"></span>
  </div>

  <!-- Wallet Modal -->
  <div class="budget-modal" id="walletModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="walletModalTitle">Tambah Dompet</h3>
        <button class="modal-close" id="walletModalClose">Ã—</button>
      </div>
      <form id="walletForm" class="budget-form">
        <div class="form-group">
          <label for="walletName">Nama Dompet</label>
          <input type="text" id="walletName" placeholder="Misal: BCA, Dompet Fisik, GoPay" required>
        </div>
        <div class="form-group">
          <label for="walletType">Tipe</label>
          <select id="walletType" required>
            <option value="bank">ğŸ¦ Bank</option>
            <option value="ewallet">ğŸ’³ E-Wallet</option>
            <option value="cash">ğŸ’µ Cash / Tunai</option>
            <option value="other">ğŸ“¦ Lainnya</option>
          </select>
        </div>
        <div class="form-group">
          <label for="walletBalance">Saldo Awal</label>
          <div class="input-wrapper">
            <span class="input-prefix">Rp</span>
            <input type="number" id="walletBalance" placeholder="0" required min="0">
          </div>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" id="btnCancelWallet">Batal</button>
          <button type="submit" class="btn btn-primary">Simpan</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Budget Edit Modal -->
  <div class="budget-modal" id="budgetModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Tambah Item Budget</h3>
        <button class="modal-close" id="modalClose">Ã—</button>
      </div>
      <form id="budgetForm" class="budget-form">
        <div class="form-group">
          <label for="budgetName">Nama Item</label>
          <input type="text" id="budgetName" placeholder="Misal: Kost, Makan, dll" required>
        </div>
        <div class="form-group">
          <label for="budgetAmount">Target Budget (per bulan)</label>
          <div class="input-wrapper">
            <span class="input-prefix">Rp</span>
            <input type="number" id="budgetAmount" placeholder="1000000" required min="0">
          </div>
        </div>
        <div class="form-group">
          <label for="budgetType">Tipe Budget</label>
          <select id="budgetType" required>
            <option value="expense">ğŸ“‰ Pengeluaran</option>
            <option value="transfer">ğŸ”„ Transfer</option>
          </select>
        </div>
        <div class="form-group">
          <label for="budgetWallet">Sumber Dana</label>
          <select id="budgetWallet" required>
            <option value="">Pilih dompet...</option>
            <!-- Dynamic wallet options -->
          </select>
        </div>
        <div class="form-group" id="groupTargetWallet" style="display: none;">
          <label for="budgetTargetWallet">Ke Dompet (Khusus Transfer)</label>
          <select id="budgetTargetWallet">
            <option value="">Pilih dompet tujuan...</option>
            <!-- Dynamic wallet options -->
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" id="btnCancelBudget">Batal</button>
          <button type="submit" class="btn btn-primary">Simpan</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Custom Generic Modal -->
  <div class="budget-modal" id="customModal" style="z-index: 2000;">
    <div class="modal-content" style="max-width: 400px;">
      <div class="modal-header">
        <h3 id="customModalTitle">Konfirmasi</h3>
      </div>
      <div class="modal-body">
        <p id="customModalMessage" style="color: var(--text-secondary); margin-bottom: 1.5rem;">Pesan konfirmasi...</p>
        
        <div id="customModalInputGroup" class="form-group" style="display: none;">
          <input type="text" id="customModalInput" placeholder="Masukkan data...">
        </div>
      </div>
      <div class="modal-actions">
        <button id="customModalCancel" class="btn btn-secondary">Batal</button>
        <button id="customModalConfirm" class="btn btn-primary">Ya, Lanjutkan</button>
      </div>
    </div>
  </div>

  <script type="module" src="./src/main.js"></script>
</body>
</html>
